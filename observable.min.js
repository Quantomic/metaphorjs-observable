(function(){var a=function(){var g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="";for(var f=0;f<10;f++){var e=Math.floor(Math.random()*52);h+=g.charAt(e)}return h};var d=function(e,g){for(var f in g){e[f]=g[f]}};var b=function(f,k){var h=[],j=a(),g=false,i=0,e=this,k=k||false;d(e,{destroy:function(){h=null;j=null;g=null;i=null;e=null;f=null},on:function(n,m,l){m=m||n;l=l||{};var q=f+"_"+j;if(m[q]){return}var r=++i,p=l.first||false;m[q]=r;var o={fn:n,scope:m,id:r,called:0,limit:l.limit?l.limit:(l.once?1:0),start:l.start||1,count:0};if(p){h.unshift(o)}else{h.push(o)}return r},un:function(o,n){var q=-1,p=f+"_"+j,r;if(o==parseInt(o)){r=o}else{n=n||o;r=n[p]}if(!r){return false}for(var m=0,l=h.length;m<l;m++){if(h[m].id==r){q=m;delete h[m].scope[p];break}}if(q==-1){return false}h.splice(q,1);return true},hasListener:function(o,n){if(o){n=n||o;var q,p=f+"_"+j;if(o==parseInt(o)){q=o}else{q=n[p]}if(!q){return false}for(var m=0,l=h.length;m<l;m++){if(h[m].id==q){return true}}return false}else{return h.length>0?h.length:false}},removeAllListeners:function(){var n=f+"_"+j;for(var m=0,l=h.length;m<l;m++){delete h[m].scope[n]}h=[]},suspend:function(){g=true},resume:function(){g=false},trigger:function(){if(g||h.length==0){return}var o=k=="all"?[]:null,q;for(var p=0,m=h.length;p<m;p++){var n=h[p];n.count++;if(n.count<n.start){continue}q=n.fn.apply(n.scope,arguments);n.called++;if(n.called==n.limit){e.removeListener(n.id)}if(k=="all"){o.push(q)}if(k=="first"&&q){return q}if(k=="last"&&q){o=q}if(k==false&&q===false){break}}if(k){return o}}})};var c=function(){var e=this,f={};d(e,{destroy:function(g){if(g){g=g.toLowerCase();if(f[g]){f[g].destroy();delete f[g]}}else{for(var h in f){f[h].destroy()}f=null;e=null}},createEvent:function(g,h){g=g.toLowerCase();if(!f[g]){f[g]=new b(g,h)}return f[g]},getEvent:function(g){g=g.toLowerCase();return f[g]},on:function(h,j,i,g){h=h.toLowerCase();if(!f[h]){f[h]=new b(h)}return f[h].on(j,i,g)},once:function(h,j,i,g){g=g||{};g.limit=1;return e.on(h,j,i,g)},un:function(g,i,h){g=g.toLowerCase();if(!f[g]){return}f[g].un(i,h)},hasListener:function(g,i,h){g=g.toLowerCase();if(!f[g]){return false}return f[g].hasListener(i,h)},removeAllListeners:function(g){if(!f[g]){return}f[g].removeAllListeners()},trigger:function(){var h=[],j=arguments[0];j=j.toLowerCase();if(!f[j]){return}for(var k=1,g=arguments.length;k<g;k++){h.push(arguments[k])}var l=f[j];return l.trigger.apply(l,h)},suspendEvent:function(g){g=g.toLowerCase();if(!f[g]){return}f[g].suspend()},suspendAllEvents:function(){for(var g in f){f[g].suspend()}},resumeEvent:function(g){g=g.toLowerCase();if(!f[g]){return}f[g].resume()},resumeAllEvents:function(){for(var g in f){f[g].resume()}}});return e};window.observable=c})();